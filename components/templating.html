

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="ja" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="ja" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>The Templating Component &mdash; Symfony Framework Documentation  ドキュメント</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="next" title="Slots Helper" href="templating/slotshelper.html" />
    <link rel="prev" title="The String Component" href="string.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Symfony Framework Documentation
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../quick_tour/index.html">The Quick Tour</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/index.html">Getting Started</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../best_practices.html">The Symfony Framework Best Practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bundles.html">The Bundle System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cache.html">Cache</a></li>
<li class="toctree-l1"><a class="reference internal" href="../console.html">Console Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doctrine.html">Databases and the Doctrine ORM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deployment.html">How to Deploy a Symfony Application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../email.html">Swift Mailer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../event_dispatcher.html">Events and Event Listeners</a></li>
<li class="toctree-l1"><a class="reference internal" href="../forms.html">Forms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../frontend.html">Managing CSS and JavaScript</a></li>
<li class="toctree-l1"><a class="reference internal" href="../http_cache.html">HTTP Cache</a></li>
<li class="toctree-l1"><a class="reference internal" href="../logging.html">Logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mailer.html">Sending Emails with Mailer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mercure.html">Pushing Data to Clients Using the Mercure Protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="../messenger.html">Messenger: Sync &amp; Queued Message Handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../migration.html">Migrating an Existing Application to Symfony</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notifier.html">Creating and Sending Notifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../performance.html">Performance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../profiler.html">Profiler</a></li>
<li class="toctree-l1"><a class="reference internal" href="../routing.html">Routing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../session.html">Sessions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../setup.html">Installing &amp; Setting up the Symfony Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="../serializer.html">How to Use the Serializer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../service_container.html">Service Container</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testing.html">Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../translation.html">Translations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../validation.html">Validation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../web_link.html">Asset Preloading and Resource Hints with HTTP/2 and WebLink</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflow.html">Workflow</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">The Components</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="using_components.html">How to Install and Use the Symfony Components</a></li>
<li class="toctree-l2"><a class="reference internal" href="asset.html">The Asset Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="browser_kit.html">The BrowserKit Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="cache.html">The Cache Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="class_loader.html">The ClassLoader Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html">The Config Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="console.html">The Console Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="contracts.html">The Contracts Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="css_selector.html">The CssSelector Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="dependency_injection.html">The DependencyInjection Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="dom_crawler.html">The DomCrawler Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="dotenv.html">The Dotenv Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="error_handler.html">The ErrorHandler Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="event_dispatcher.html">The EventDispatcher Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="expression_language.html">The ExpressionLanguage Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="filesystem.html">The Filesystem Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="finder.html">The Finder Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="form.html">The Form Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="http_client.html">The HttpClient Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="http_foundation.html">The HttpFoundation Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="http_kernel.html">The HttpKernel Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="inflector.html">The Inflector Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="intl.html">The Intl Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="ldap.html">The Ldap Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="lock.html">The Lock Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="mailer.html">The Mailer Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="mercure.html">The Mercure Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="messenger.html">The Messenger Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="mime.html">The Mime Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="options_resolver.html">The OptionsResolver Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="phpunit_bridge.html">The PHPUnit Bridge</a></li>
<li class="toctree-l2"><a class="reference internal" href="polyfill_apcu.html">The Symfony Polyfill / APCu Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="polyfill_ctype.html">The Symfony Polyfill / Ctype Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="polyfill_iconv.html">The Symfony Polyfill / Iconv Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="polyfill_intl_grapheme.html">The Symfony Polyfill / Intl Grapheme Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="polyfill_intl_icu.html">The Symfony Polyfill / Intl ICU Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="polyfill_intl_idn.html">The Symfony Polyfill / Intl IDN Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="polyfill_intl_messageformatter.html">The Symfony Polyfill / Intl MessageFormatter Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="polyfill_intl_normalizer.html">The Symfony Polyfill / Intl Normalizer Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="polyfill_mbstring.html">The Symfony Polyfill / Mbstring Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="polyfill_php54.html">The Symfony Polyfill / PHP 5.4 Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="polyfill_php55.html">The Symfony Polyfill / PHP 5.5 Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="polyfill_php56.html">The Symfony Polyfill / PHP 5.6 Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="polyfill_php70.html">The Symfony Polyfill / PHP 7.0 Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="polyfill_php71.html">The Symfony Polyfill / PHP 7.1 Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="polyfill_php72.html">The Symfony Polyfill / PHP 7.2 Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="polyfill_php73.html">The Symfony Polyfill / PHP 7.3 Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="polyfill_uuid.html">The Symfony Polyfill / UUID Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="process.html">The Process Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="property_access.html">The PropertyAccess Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="property_info.html">The PropertyInfo Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="psr7.html">The PSR-7 Bridge</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html">The Security Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="serializer.html">The Serializer Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="stopwatch.html">The Stopwatch Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="string.html">The String Component</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">The Templating Component</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#installation">Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#usage">Usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-view-variable">The <code class="docutils literal"><span class="pre">$view</span></code> Variable</a></li>
<li class="toctree-l3"><a class="reference internal" href="#including-templates">Including Templates</a></li>
<li class="toctree-l3"><a class="reference internal" href="#global-variables">Global Variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="#output-escaping">Output Escaping</a></li>
<li class="toctree-l3"><a class="reference internal" href="#helpers">Helpers</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#custom-helpers">Custom Helpers</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#creating-a-custom-engine">Creating a Custom Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="#using-multiple-engines">Using Multiple Engines</a></li>
<li class="toctree-l3"><a class="reference internal" href="#learn-more">Learn More</a><ul>
<li class="toctree-l4"><a class="reference internal" href="templating/slotshelper.html">Slots Helper</a></li>
<li class="toctree-l4"><a class="reference internal" href="../templates.html">Creating and Using Templates</a></li>
<li class="toctree-l4"><a class="reference internal" href="../templating/PHP.html">How to Use PHP instead of Twig for Templates</a></li>
<li class="toctree-l4"><a class="reference internal" href="../templating/global_variables.html">How to Inject Variables Automatically into all Templates</a></li>
<li class="toctree-l4"><a class="reference internal" href="../templating/hinclude.html">How to Embed Asynchronous Content with hinclude.js</a></li>
<li class="toctree-l4"><a class="reference internal" href="../templating/twig_extension.html">How to Write a custom Twig Extension</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="uid.html">The UID Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="validator.html">The Validator Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="var_dumper.html">The VarDumper Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="var_exporter.html">The VarExporter Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_link.html">The WebLink Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="workflow.html">The Workflow Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="yaml.html">The Yaml Component</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../reference/index.html">Reference Documents</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contributing/index.html">Contributing</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../create_framework/index.html">Create your own PHP Framework</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Symfony Framework Documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">The Components</a> &raquo;</li>
        
      <li>The Templating Component</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/components/templating.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="the-templating-component">
<span id="index-0"></span><h1>The Templating Component<a class="headerlink" href="#the-templating-component" title="このヘッドラインへのパーマリンク">¶</a></h1>
<blockquote>
<div><p>The Templating component provides all the tools needed to build any kind
of template system.</p>
<p>It provides an infrastructure to load template files and optionally
monitor them for changes. It also provides a concrete template engine
implementation using PHP with additional tools for escaping and separating
templates into blocks and layouts.</p>
</div></blockquote>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="highlight-terminal"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="gp">$</span> composer require symfony/templating
</pre></div>
</td></tr></table></div>
<div class="admonition note">
<p class="first admonition-title">注釈</p>
<p class="last">If you install this component outside of a Symfony application, you must
require the <code class="docutils literal"><span class="pre">vendor/autoload.php</span></code> file in your code to enable the class
autoloading mechanism provided by Composer. Read
<a class="reference internal" href="using_components.html"><em>this article</em></a> for more details.</p>
</div>
</div>
<div class="section" id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">This article explains how to use the Templating features as an independent
component in any PHP application. Read the article about <a class="reference internal" href="../templates.html"><em>templates</em></a>
to learn about how to work with templates in Symfony applications.</p>
</div>
<p>The <code class="docutils literal"><a class="reference external" href="http://api.symfony.com/master/Symfony/Component/Templating/PhpEngine.html" title="Symfony\Component\Templating\PhpEngine"><span class="pre">PhpEngine</span></a></code> class is the entry point
of the component. It needs a
template name parser (<code class="docutils literal"><a class="reference external" href="http://api.symfony.com/master/Symfony/Component/Templating/TemplateNameParserInterface.html" title="Symfony\Component\Templating\TemplateNameParserInterface"><span class="pre">TemplateNameParserInterface</span></a></code>)
to convert a template name to a
template reference (<code class="docutils literal"><a class="reference external" href="http://api.symfony.com/master/Symfony/Component/Templating/TemplateReferenceInterface.html" title="Symfony\Component\Templating\TemplateReferenceInterface"><span class="pre">TemplateReferenceInterface</span></a></code>).
It also needs a template loader (<code class="docutils literal"><a class="reference external" href="http://api.symfony.com/master/Symfony/Component/Templating/Loader/LoaderInterface.html" title="Symfony\Component\Templating\Loader\LoaderInterface"><span class="pre">LoaderInterface</span></a></code>)
which uses the template reference to actually find and load the template:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Symfony\Component\Templating\Loader\FilesystemLoader</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Symfony\Component\Templating\PhpEngine</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Symfony\Component\Templating\TemplateNameParser</span><span class="p">;</span>

<span class="nv">$filesystemLoader</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">FilesystemLoader</span><span class="p">(</span><span class="no">__DIR__</span><span class="o">.</span><span class="s1">&#39;/views/%name%&#39;</span><span class="p">);</span>

<span class="nv">$templating</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">PhpEngine</span><span class="p">(</span><span class="k">new</span> <span class="nx">TemplateNameParser</span><span class="p">(),</span> <span class="nv">$filesystemLoader</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$templating</span><span class="o">-&gt;</span><span class="na">render</span><span class="p">(</span><span class="s1">&#39;hello.php&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;firstname&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Fabien&#39;</span><span class="p">]);</span>
</pre></div>
</div>
<div class="highlight-html+php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c">&lt;!-- views/hello.php --&gt;</span>
Hello, <span class="cp">&lt;?</span><span class="o">=</span> <span class="nv">$firstname</span> <span class="cp">?&gt;</span>!
</pre></div>
</td></tr></table></div>
<p>The <code class="docutils literal"><a class="reference external" href="http://api.symfony.com/master/Symfony/Component/Templating/PhpEngine.html#method_render" title="Symfony\Component\Templating\PhpEngine::render()"><span class="pre">render()</span></a></code> method parses
the <code class="docutils literal"><span class="pre">views/hello.php</span></code> file and returns the output text. The second argument
of <code class="docutils literal"><span class="pre">render</span></code> is an array of variables to use in the template. In this
example, the result will be <code class="docutils literal"><span class="pre">Hello,</span> <span class="pre">Fabien!</span></code>.</p>
<div class="admonition note">
<p class="first admonition-title">注釈</p>
<p class="last">Templates will be cached in the memory of the engine. This means that if
you render the same template multiple times in the same request, the
template will only be loaded once from the file system.</p>
</div>
</div>
<div class="section" id="the-view-variable">
<h2>The <code class="docutils literal"><span class="pre">$view</span></code> Variable<a class="headerlink" href="#the-view-variable" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>In all templates parsed by the <code class="docutils literal"><span class="pre">PhpEngine</span></code>, you get access to a mysterious
variable called <code class="docutils literal"><span class="pre">$view</span></code>. That variable holds the current <code class="docutils literal"><span class="pre">PhpEngine</span></code>
instance. That means you get access to a bunch of methods that make your life
easier.</p>
</div>
<div class="section" id="including-templates">
<h2>Including Templates<a class="headerlink" href="#including-templates" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>The best way to share a snippet of template code is to create a template that
can then be included by other templates. As the <code class="docutils literal"><span class="pre">$view</span></code> variable is an
instance of <code class="docutils literal"><span class="pre">PhpEngine</span></code>, you can use the <code class="docutils literal"><span class="pre">render()</span></code> method (which was used
to render the template originally) inside the template to render another template:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span> <span class="nv">$names</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Fabien&#39;</span><span class="p">,</span> <span class="o">...</span><span class="p">]</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="cp">&lt;?php</span> <span class="k">foreach</span> <span class="p">(</span><span class="nv">$names</span> <span class="k">as</span> <span class="nv">$name</span><span class="p">)</span> <span class="o">:</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">    </span><span class="cp">&lt;?</span><span class="o">=</span> <span class="nv">$view</span><span class="o">-&gt;</span><span class="na">render</span><span class="p">(</span><span class="s1">&#39;hello.php&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;firstname&#39;</span> <span class="o">=&gt;</span> <span class="nv">$name</span><span class="p">])</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="cp">&lt;?php</span> <span class="k">endforeach</span> <span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
</div>
<div class="section" id="global-variables">
<h2>Global Variables<a class="headerlink" href="#global-variables" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Sometimes, you need to set a variable which is available in all templates
rendered by an engine (like the <code class="docutils literal"><span class="pre">$app</span></code> variable when using the Symfony
Framework). These variables can be set by using the
<code class="docutils literal"><a class="reference external" href="http://api.symfony.com/master/Symfony/Component/Templating/PhpEngine.html#method_addGlobal" title="Symfony\Component\Templating\PhpEngine::addGlobal()"><span class="pre">addGlobal()</span></a></code> method and they
can be accessed in the template as normal variables:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="nv">$templating</span><span class="o">-&gt;</span><span class="na">addGlobal</span><span class="p">(</span><span class="s1">&#39;ga_tracking&#39;</span><span class="p">,</span> <span class="s1">&#39;UA-xxxxx-x&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>In a template:</p>
<div class="highlight-html+php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>The google tracking code is: <span class="cp">&lt;?</span><span class="o">=</span> <span class="nv">$ga_tracking</span> <span class="cp">?&gt;</span><span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</pre></div>
</td></tr></table></div>
<div class="admonition caution">
<p class="first admonition-title">ご用心</p>
<p class="last">The global variables cannot be called <code class="docutils literal"><span class="pre">this</span></code> or <code class="docutils literal"><span class="pre">view</span></code>, since they are
already used by the PHP engine.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">注釈</p>
<p class="last">The global variables can be overridden by a local variable in the template
with the same name.</p>
</div>
</div>
<div class="section" id="output-escaping">
<h2>Output Escaping<a class="headerlink" href="#output-escaping" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>When you render variables, you should probably escape them so that HTML or
JavaScript code isn&#8217;t written out to your page. This will prevent things like
XSS attacks. To do this, use the
<code class="docutils literal"><a class="reference external" href="http://api.symfony.com/master/Symfony/Component/Templating/PhpEngine.html#method_escape" title="Symfony\Component\Templating\PhpEngine::escape()"><span class="pre">escape()</span></a></code> method:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="o">&lt;?=</span> <span class="nv">$view</span><span class="o">-&gt;</span><span class="na">escape</span><span class="p">(</span><span class="nv">$firstname</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
<p>By default, the <code class="docutils literal"><span class="pre">escape()</span></code> method assumes that the variable is outputted
within an HTML context. The second argument lets you change the context. For
example, to output something inside JavaScript, use the <code class="docutils literal"><span class="pre">js</span></code> context:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="o">&lt;?=</span> <span class="nv">$view</span><span class="o">-&gt;</span><span class="na">escape</span><span class="p">(</span><span class="nv">$var</span><span class="p">,</span> <span class="s1">&#39;js&#39;</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
<p>The component comes with an HTML and JS escaper. You can register your own
escaper using the
<code class="docutils literal"><a class="reference external" href="http://api.symfony.com/master/Symfony/Component/Templating/PhpEngine.html#method_setEscaper" title="Symfony\Component\Templating\PhpEngine::setEscaper()"><span class="pre">setEscaper()</span></a></code> method:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="nv">$templating</span><span class="o">-&gt;</span><span class="na">setEscaper</span><span class="p">(</span><span class="s1">&#39;css&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">(</span><span class="nv">$value</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ... all CSS escaping</span>

    <span class="k">return</span> <span class="nv">$escapedValue</span><span class="p">;</span>
<span class="p">});</span>
</pre></div>
</div>
</div>
<div class="section" id="helpers">
<h2>Helpers<a class="headerlink" href="#helpers" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>The Templating component can be extended via helpers. Helpers are PHP objects
that provide features useful in a template context. The component has one
built-in helper:</p>
<ul class="simple">
<li><a class="reference internal" href="templating/slotshelper.html"><em>Slots Helper</em></a></li>
</ul>
<p>Before you can use these helpers, you need to register them using
<code class="docutils literal"><a class="reference external" href="http://api.symfony.com/master/Symfony/Component/Templating/PhpEngine.html#method_set" title="Symfony\Component\Templating\PhpEngine::set()"><span class="pre">set()</span></a></code>:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Symfony\Component\Templating\Helper\SlotsHelper</span><span class="p">;</span>
<span class="c1">// ...</span>

<span class="nv">$templating</span><span class="o">-&gt;</span><span class="na">set</span><span class="p">(</span><span class="k">new</span> <span class="nx">SlotsHelper</span><span class="p">());</span>
</pre></div>
</div>
<div class="section" id="custom-helpers">
<h3>Custom Helpers<a class="headerlink" href="#custom-helpers" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>You can create your own helpers by creating a class which implements
<code class="docutils literal"><a class="reference external" href="http://api.symfony.com/master/Symfony/Component/Templating/Helper/HelperInterface.html" title="Symfony\Component\Templating\Helper\HelperInterface"><span class="pre">HelperInterface</span></a></code>. However,
most of the time you&#8217;ll extend
<code class="docutils literal"><a class="reference external" href="http://api.symfony.com/master/Symfony/Component/Templating/Helper/Helper.html" title="Symfony\Component\Templating\Helper\Helper"><span class="pre">Helper</span></a></code>.</p>
<p>The <code class="docutils literal"><span class="pre">Helper</span></code> has one required method:
<code class="docutils literal"><a class="reference external" href="http://api.symfony.com/master/Symfony/Component/Templating/Helper/HelperInterface.html#method_getName" title="Symfony\Component\Templating\Helper\HelperInterface::getName()"><span class="pre">getName()</span></a></code>.
This is the name that is used to get the helper from the <code class="docutils literal"><span class="pre">$view</span></code> object.</p>
</div>
</div>
<div class="section" id="creating-a-custom-engine">
<h2>Creating a Custom Engine<a class="headerlink" href="#creating-a-custom-engine" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Besides providing a PHP templating engine, you can also create your own engine
using the Templating component. To do that, create a new class which
implements the <code class="docutils literal"><a class="reference external" href="http://api.symfony.com/master/Symfony/Component/Templating/EngineInterface.html" title="Symfony\Component\Templating\EngineInterface"><span class="pre">EngineInterface</span></a></code>. This
requires 3 method:</p>
<ul class="simple">
<li><code class="docutils literal"><a class="reference external" href="http://api.symfony.com/master/Symfony/Component/Templating/EngineInterface.html#method_render" title="Symfony\Component\Templating\EngineInterface::render()"><span class="pre">render($name,</span> <span class="pre">array</span> <span class="pre">$parameters</span> <span class="pre">=</span> <span class="pre">[])</span></a></code>
- Renders a template</li>
<li><code class="docutils literal"><a class="reference external" href="http://api.symfony.com/master/Symfony/Component/Templating/EngineInterface.html#method_exists" title="Symfony\Component\Templating\EngineInterface::exists()"><span class="pre">exists($name)</span></a></code>
- Checks if the template exists</li>
<li><code class="docutils literal"><a class="reference external" href="http://api.symfony.com/master/Symfony/Component/Templating/EngineInterface.html#method_supports" title="Symfony\Component\Templating\EngineInterface::supports()"><span class="pre">supports($name)</span></a></code>
- Checks if the given template can be handled by this engine.</li>
</ul>
</div>
<div class="section" id="using-multiple-engines">
<h2>Using Multiple Engines<a class="headerlink" href="#using-multiple-engines" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>It is possible to use multiple engines at the same time using the
<code class="docutils literal"><a class="reference external" href="http://api.symfony.com/master/Symfony/Component/Templating/DelegatingEngine.html" title="Symfony\Component\Templating\DelegatingEngine"><span class="pre">DelegatingEngine</span></a></code> class. This class
takes a list of engines and acts just like a normal templating engine. The
only difference is that it delegates the calls to one of the other engines. To
choose which one to use for the template, the
<code class="docutils literal"><a class="reference external" href="http://api.symfony.com/master/Symfony/Component/Templating/EngineInterface.html#method_supports" title="Symfony\Component\Templating\EngineInterface::supports()"><span class="pre">EngineInterface::supports()</span></a></code>
method is used:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Acme\Templating\CustomEngine</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Symfony\Component\Templating\DelegatingEngine</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Symfony\Component\Templating\PhpEngine</span><span class="p">;</span>

<span class="nv">$templating</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DelegatingEngine</span><span class="p">([</span>
    <span class="k">new</span> <span class="nx">PhpEngine</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
    <span class="k">new</span> <span class="nx">CustomEngine</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
<span class="p">]);</span>
</pre></div>
</div>
</div>
<div class="section" id="learn-more">
<h2>Learn More<a class="headerlink" href="#learn-more" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="templating/slotshelper.html">Slots Helper</a></li>
<li class="toctree-l1"><a class="reference internal" href="../templates.html">Creating and Using Templates</a></li>
<li class="toctree-l1"><a class="reference internal" href="../templating/PHP.html">How to Use PHP instead of Twig for Templates</a></li>
<li class="toctree-l1"><a class="reference internal" href="../templating/global_variables.html">How to Inject Variables Automatically into all Templates</a></li>
<li class="toctree-l1"><a class="reference internal" href="../templating/hinclude.html">How to Embed Asynchronous Content with hinclude.js</a></li>
<li class="toctree-l1"><a class="reference internal" href="../templating/twig_extension.html">How to Write a custom Twig Extension</a></li>
</ul>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="templating/slotshelper.html" class="btn btn-neutral float-right" title="Slots Helper" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="string.html" class="btn btn-neutral" title="The String Component" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright .

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'',
            LANGUAGE:'ja',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: ''
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/translations.js"></script>

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>